// Переводы для всех языков
const translations = {
	ru: {
		// Meta
		title: "Beretta - производство карусельных линий",
		description: "",
		
		// Header
		nav_solutions: "Решения",
		nav_company: "О компании",
		nav_contacts: "Контакты",
		
		// Intro
		intro_title_span: "Производство",
		intro_title_text: "промышленного оборудования",
		intro_stat1_num: "270+",
		intro_stat1_text: "сотрудников занято в производстве",
		intro_stat2_num: "15+",
		intro_stat2_text: "сотрудников в конструкторском отделе",
		intro_stat3_num: "20 000 м<sup>2</sup>",
		intro_stat3_text: "площадь промышленных помещений",
		intro_stat4_num: "4 га",
		intro_stat4_text: "площадь заводских территорий",
		
		// Solutions
		solutions_title_span: "заводов сборного железобетона",
		solutions_title_text: "Комплексные решения для",
		solutions_info_text: "Мы предоставляем нашим клиентам индивидуальные решения для изготовления сборных бетонных элементов \"под ключ\":",
		solutions_item1: "проектирование и производство линий циркуляции палет",
		solutions_item2: "внедрение роботов для укладки магнитной опалубки",
		solutions_item3: "автоматизация производственной линии",
		solutions_item4: "внедрение ERP и MES систем",
		
		// Company
		company_title: "BERETTA",
		company_text: "Группа компаний с опытом работы на международном рынке осуществляет следующую деятельность:",
		company_item1: "автоматизация производственных линий",
		company_item2: "тяжелое машиностроение",
		company_item3: "производство роботов",
		company_item4: "проектирования, инжиниринга, консалтинговых услуг в отрасли проектирования зданий, строительства сборных преднапряженных конструкций, технологий производства",
		company_item5: "внедрение продуктов цифровизации",
		
		// Spec
		spec_title: "Специализация",
		spec1_title: "Проектирование",
		spec1_text: "Широкий опыт в области сборных железобетонных строительных систем",
		spec2_title: "Производство",
		spec2_text: "Большой опыт в проектировании карусельных линий для домостроительных комбинатов",
		spec3_title: "Роботизация",
		spec3_text: "Многолетний опыт внедрения промышленных роботов",
		spec4_title: "Автоматизация",
		spec4_text: "Проектирование и производство шкафов управления для станкостроительной и машиностроительной отраслей",
		
		// Contacts
		contacts_title: "Контакты",
		contacts_email_name: "Электронная почта",
		contacts_office_name: "Офис и производство в Ярославле",
		contacts_office_text: "Россия, г. Ярославль<br />ул. Гагарина 64А",
		
		// Footer
		footer_rights: "© Все права защищены. ООО \"БЕРЕТТА КОНКРИТ ТЕХНОЛОДЖИ\", 2020—2025",
		footer_inn: "ИНН 9715390901",
		footer_ogrn: "ОГРН 1207700377070"
	},
	
	en: {
		// Meta
		title: "Beretta - Production of Carousel Lines",
		description: "",
		
		// Header
		nav_solutions: "Solutions",
		nav_company: "About Company",
		nav_contacts: "Contacts",
		
		// Intro
		intro_title_span: "Production",
		intro_title_text: "of industrial equipment",
		intro_stat1_num: "270+",
		intro_stat1_text: "employees in production",
		intro_stat2_num: "15+",
		intro_stat2_text: "employees in design department",
		intro_stat3_num: "20,000 m<sup>2</sup>",
		intro_stat3_text: "area of industrial premises",
		intro_stat4_num: "4 ha",
		intro_stat4_text: "area of factory territories",
		
		// Solutions
		solutions_title_span: "precast concrete plants",
		solutions_title_text: "Comprehensive solutions for",
		solutions_info_text: "We provide our clients with individual turnkey solutions for manufacturing precast concrete elements:",
		solutions_item1: "design and production of pallet circulation lines",
		solutions_item2: "implementation of robots for magnetic formwork installation",
		solutions_item3: "production line automation",
		solutions_item4: "implementation of ERP and MES systems",
		
		// Company
		company_title: "BERETTA",
		company_text: "A group of companies with experience in the international market carries out the following activities:",
		company_item1: "automation of production lines",
		company_item2: "heavy engineering",
		company_item3: "robot production",
		company_item4: "design, engineering, consulting services in the field of building design, construction of precast prestressed structures, production technologies",
		company_item5: "implementation of digitalization products",
		
		// Spec
		spec_title: "Specialization",
		spec1_title: "Design",
		spec1_text: "Extensive experience in precast concrete building systems",
		spec2_title: "Production",
		spec2_text: "Great experience in designing carousel lines for housing construction plants",
		spec3_title: "Robotization",
		spec3_text: "Many years of experience in implementing industrial robots",
		spec4_title: "Automation",
		spec4_text: "Design and production of control cabinets for machine tool and mechanical engineering industries",
		
		// Contacts
		contacts_title: "Contacts",
		contacts_email_name: "Email",
		contacts_office_name: "Office and Production in Yaroslavl",
		contacts_office_text: "Russia, Yaroslavl<br />64A Gagarina St.",
		
		// Footer
		footer_rights: "© All rights reserved. BERETTA CONCRETE TECHNOLOGY LLC, 2020—2025",
		footer_inn: "TIN 9715390901",
		footer_ogrn: "PSRN 1207700377070"
	},
	
	it: {
		// Meta
		title: "Beretta - Produzione di Linee Carosello",
		description: "",
		
		// Header
		nav_solutions: "Soluzioni",
		nav_company: "L'azienda",
		nav_contacts: "Contatti",
		
		// Intro
		intro_title_span: "Produzione",
		intro_title_text: "di attrezzature industriali",
		intro_stat1_num: "270+",
		intro_stat1_text: "dipendenti impegnati nella produzione",
		intro_stat2_num: "15+",
		intro_stat2_text: "dipendenti nel reparto progettazione",
		intro_stat3_num: "20.000 m<sup>2</sup>",
		intro_stat3_text: "area dei locali industriali",
		intro_stat4_num: "4 ha",
		intro_stat4_text: "area dei territori dello stabilimento",
		
		// Solutions
		solutions_title_span: "impianti di calcestruzzo prefabbricato",
		solutions_title_text: "Soluzioni complete per",
		solutions_info_text: "Forniamo ai nostri clienti soluzioni individuali chiavi in mano per la produzione di elementi prefabbricati in calcestruzzo:",
		solutions_item1: "progettazione e produzione di linee di circolazione pallet",
		solutions_item2: "implementazione di robot per l'installazione di casseforme magnetiche",
		solutions_item3: "automazione della linea di produzione",
		solutions_item4: "implementazione di sistemi ERP e MES",
		
		// Company
		company_title: "BERETTA",
		company_text: "Un gruppo di aziende con esperienza nel mercato internazionale svolge le seguenti attività:",
		company_item1: "automazione delle linee di produzione",
		company_item2: "ingegneria pesante",
		company_item3: "produzione di robot",
		company_item4: "progettazione, ingegneria, servizi di consulenza nel campo della progettazione edilizia, costruzione di strutture prefabbricate precompresse, tecnologie di produzione",
		company_item5: "implementazione di prodotti di digitalizzazione",
		
		// Spec
		spec_title: "Specializzazione",
		spec1_title: "Progettazione",
		spec1_text: "Vasta esperienza nei sistemi di costruzione in calcestruzzo prefabbricato",
		spec2_title: "Produzione",
		spec2_text: "Grande esperienza nella progettazione di linee carosello per impianti di costruzione di abitazioni",
		spec3_title: "Robotizzazione",
		spec3_text: "Molti anni di esperienza nell'implementazione di robot industriali",
		spec4_title: "Automazione",
		spec4_text: "Progettazione e produzione di quadri di comando per le industrie di macchine utensili e meccaniche",
		
		// Contacts
		contacts_title: "Contatti",
		contacts_email_name: "Email",
		contacts_office_name: "Ufficio e Produzione a Yaroslavl",
		contacts_office_text: "Russia, Yaroslavl<br />Via Gagarina 64A",
		
		// Footer
		footer_rights: "© Tutti i diritti riservati. BERETTA CONCRETE TECHNOLOGY LLC, 2020—2025",
		footer_inn: "TIN 9715390901",
		footer_ogrn: "PSRN 1207700377070"
	}
};

// Текущий язык
let currentLang = localStorage.getItem('language') || 'ru';

// Функция переключения языка
function switchLanguage(lang) {
	currentLang = lang;
	localStorage.setItem('language', lang);
	
	// Обновляем атрибут lang в HTML
	document.documentElement.setAttribute('lang', lang);
	
	// Обновляем title
	document.title = translations[lang].title;
	
	// Обновляем все элементы с data-i18n
	document.querySelectorAll('[data-i18n]').forEach(element => {
		const key = element.getAttribute('data-i18n');
		if (translations[lang][key]) {
			element.innerHTML = translations[lang][key];
		}
	});
	
	// Обновляем активное состояние кнопок языка
	updateLanguageButtons(lang);
	
	// Закрываем мобильное меню если открыто
	const popupCheck = document.getElementById('popup');
	if (popupCheck) {
		popupCheck.checked = false;
	}
}

// Обновление активного состояния кнопок языка
function updateLanguageButtons(lang) {
	// Убираем активный класс у всех кнопок
	document.querySelectorAll('.header_lang [class^="header_lang-"]').forEach(btn => {
		btn.classList.remove('active');
	});
	
	// Добавляем активный класс нужной кнопке
	const langMap = {
		'it': '.header_lang-it',
		'en': '.header_lang-eng',
		'ru': '.header_lang-ru'
	};
	
	document.querySelectorAll(langMap[lang]).forEach(btn => {
		btn.classList.add('active');
	});
}

// Функция закрытия popup меню
function closewindow() {
	const popupCheck = document.getElementById('popup');
	if (popupCheck) {
		popupCheck.checked = false;
	}
	return true;
}

// Инициализация при загрузке страницы
document.addEventListener('DOMContentLoaded', function() {
	// Устанавливаем сохраненный или дефолтный язык
	switchLanguage(currentLang);
	
	// Добавляем обработчики для кнопок языка
	document.querySelectorAll('.header_lang-it a').forEach(link => {
		link.addEventListener('click', function(e) {
			e.preventDefault();
			switchLanguage('it');
		});
	});
	
	document.querySelectorAll('.header_lang-eng a').forEach(link => {
		link.addEventListener('click', function(e) {
			e.preventDefault();
			switchLanguage('en');
		});
	});
	
	document.querySelectorAll('.header_lang-ru a').forEach(link => {
		link.addEventListener('click', function(e) {
			e.preventDefault();
			switchLanguage('ru');
		});
	});
	
	// Обработчики для ссылок в мобильном меню
	document.querySelectorAll('.vcms__popup .header_nav-item a').forEach(link => {
		link.addEventListener('click', closewindow);
	});
});

